<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inkwell | login</title>
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="/css/login.css">
  <style>
    .error-message {
      color: red;
    }
  </style>
</head>
<body>
    
  <!-- navbar -->

  <div class="container">

    <div class="container__navbar">
      <ul class="navbar__ul">
        <li><a href="/">Home</a></li>
        <li><a href="/library">Library</a></li>
        <li><a href="/about">About</a></li>
      </ul>

      <span class="navbar__logo">Inkwell</span>

      <div class="navbar__login-cart">
        <div class="navbar__login">
          <a href="/login" class="navbar_login__link">
            <img src="/images/9041309_person_fill_icon.png" class="navbar__login__img" alt="">
            <span>Login</span>
          </a>
        </div>
        <a href="/profile">
          <div class="navbar__cart">
            <img src="/images/shopping-cart.png" class="navbar__cart__img" alt="">
          </div>
        </a>
      </div>
    </div>

  </div>

  <!-- end of navbar -->


  <!-- login container -->

  <div class="container-login">

    <div class="container-login__img">
      <img src="/images/login-left.png" alt="">
    </div>

    <div class="container-login__main">
      <div class="container-login__form">
        <span class="container-login__form__header">Login</span>

        <form action="/auth/login" method="post" id="login-form">
          <label for="email" class="label__trigger">Email:</label>
          <input type="email" id="email" name="email" placeholder="Email" class="container-login__form__email" required>

          <label for="password" class="label__trigger">Password:</label>
          <input type="password" id="password" name="password" placeholder="Password" class="container-login__form__password" required>

          <button type="submit" class="login__main__btn">Login</button>
        </form>

        <div class="sign-up">
          <span class="sign-up__question">New to inkwell?</span>
          <a href="/signup" class="sign-up__link">Sign up now</a>
        </div>

        {{#if message }}
          <h4 class="alert-danger">{{message}}</h4>
        {{/if}}

        <!-- Result Display -->
        <h4 id="query-result" class="error-message"></h4>

      </div>
    </div>
    
  </div>

{{!-- end of login --}}

<script>
  document.getElementById('login-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    // Create a hidden form to submit the data securely
    const form = document.createElement('form');
    form.action = '/auth/login';
    form.method = 'post';
    
    const emailInput = document.createElement('input');
    emailInput.type = 'hidden';
    emailInput.name = 'email';
    emailInput.value = email;
    
    const passwordInput = document.createElement('input');
    passwordInput.type = 'hidden';
    passwordInput.name = 'password';
    passwordInput.value = password;
    
    form.appendChild(emailInput);
    form.appendChild(passwordInput);
    document.body.appendChild(form);
    form.submit();
  });
</script>


</body>
</html>
